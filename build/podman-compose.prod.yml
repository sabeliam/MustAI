version: '1'

volumes:
    mongo-data:

services:
    frontend:
        image: "${DOCKER_IMAGE_FRONT}"
        ports:
            - "80:80/tcp"
    backend:
        image: "${DOCKER_IMAGE_BACK}"
        environment:
            - MONGODB_URI=mongodb://mongo:27017
        ports:
            - "3000:3000/tcp"
        depends_on:
            - mongo
    mongo:
        container_name: mustai-mongo
        image: docker.io/library/mongo:4
        volumes:
            - mongo-data:/data/db
        ports:
            - "27017:27017/tcp"
